!function(t){function webpackJsonpCallback(e){for(var c,a,o=e[0],n=e[1],l=e[2],u=0,_=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&_.push(r[a][0]),r[a]=0;for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c]);for(s&&s(e);_.length;)_.shift()();return i.push.apply(i,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var t,e=0;e<i.length;e++){for(var c=i[e],a=!0,o=1;o<c.length;o++){var s=c[o];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),t=__webpack_require__(__webpack_require__.s=c[0]))}return t}var e={},r={2:0},i=[];function __webpack_require__(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)__webpack_require__.d(r,i,function(e){return t[e]}.bind(null,i));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/assets/";var c=window.webpackJsonp=window.webpackJsonp||[],a=c.push.bind(c);c.push=webpackJsonpCallback,c=c.slice();for(var o=0;o<c.length;o++)webpackJsonpCallback(c[o]);var s=a;i.push([20,10]),checkDeferredModules()}({20:function(t,e,r){"use strict";r.r(e);var i=r(9),c=r.n(i),a=r(11),o=r.n(a),s=r(12),n=r.n(s),l=r(7),layoutvue_type_template_id_51357632_lang_pug_render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog"},[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"catalog__view"},[r("div",{staticClass:"catalog__view-wrapper"},[r("div",{staticClass:"catalog__view-text"},[t._v("Вид: ")]),r("div",{staticClass:"catalog__view-icon",class:{action:0==t.catalogBaseView},on:{click:function(e){t.catalogBaseView=!1}}},[r("svg",{staticClass:"icon"},[r("use",{attrs:{href:"/icons/icons.svg#list"}})])]),r("div",{staticClass:"catalog__view-icon",class:{action:1==t.catalogBaseView},on:{click:function(e){t.catalogBaseView=!0}}},[r("svg",{staticClass:"icon"},[r("use",{attrs:{href:"/icons/icons.svg#tile"}})])])])]),r("div",{staticClass:"catalog__wrapper"},[r("catalog-filter"),r("div",{staticClass:"catalog__items",class:[{"catag__base-view":t.catalogBaseView},{"catag__list-view":0==t.catalogBaseView}]},[t.items.length<=0?r("div",{staticClass:"catalog__items-title"}):t._e(),t._l(t.items,(function(t){return r("Product",{key:t.id,attrs:{product:t}})}))],2)],1)]),r("MobileItems")],1)};layoutvue_type_template_id_51357632_lang_pug_render._withStripped=!0;var u=r(5),_=r.n(u),d=r(4),catalog_itemvue_type_template_id_7d802558_lang_pug_render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog__item"},[r("div",{staticClass:"catalog__item__wrapper"},[r("div",{staticClass:"catalog__item-img",style:{backgroundImage:"url("+t.itemImage+")"}}),r("div",{staticClass:"catalog__item__content"},[r("div",{staticClass:"catalog__item-text"},[r("div",{staticClass:"catalog__item__content-title"},[t._v(t._s(t.product.title))]),r("div",{staticClass:"catalog__item__content-subtitle"},[t._v(t._s(t.product.subtitle))])]),r("div",{staticClass:"catalog__item__price"},[r("div",{staticClass:"catalog__item__price-text"},[t._v(t._s(t._f("fix-namber")(t.product.count*t.product.price))+" ₽ ")]),r("div",{staticClass:"catalog__item__price__count"},[r("div",{staticClass:"catalog__item__price__count__btn-min",on:{click:function(e){return t.minCart()}}}),r("div",{staticClass:"catalog__item__price__count__btn-text"},[t._v(t._s(t.product.count))]),r("div",{staticClass:"catalog__item__price__count__btn-plus",on:{click:function(e){return t.addCart()}}})])])]),r("div",{staticClass:"catalog__item__btn button",on:{click:function(e){return t.addItemToCartt()}}},[t._v("В корзину")])])])};function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}catalog_itemvue_type_template_id_7d802558_lang_pug_render._withStripped=!0;var p={props:{product:Object},methods:_objectSpread(_objectSpread({},Object(d.b)("cart",["addItemToCart"])),{},{addItemToCartt:function addItemToCartt(){var t={id:this.product.id,count:this.product.count};this.addItemToCart(t)},addCart:function addCart(){this.product.count<100&&(this.product.count++,this.product.total=this.product.count*this.product.price)},minCart:function minCart(){this.product.count<=1||(this.product.count--,this.product.total-=this.product.price)}}),computed:{itemImage:function itemImage(){return this.product.picture}}},f=r(6),m=Object(f.a)(p,catalog_itemvue_type_template_id_7d802558_lang_pug_render,[],!1,null,null,null);m.options.__file="src/vue/catalog/components/catalog-item.vue";var g=m.exports,filtervue_type_template_id_e4308a6e_lang_pug_render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog__filter"},[t._m(0),r("ul",t._l(t.catalogFilters,(function(e,i){return r("li",[r("label",{key:i,on:{click:function(r){return t.clickOnitem(e.id)}}},[t._m(1,!0),r("span",[t._v(t._s(e.title))])])])})),0)])};function filtervue_type_script_lang_js_ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function filtervue_type_script_lang_js_objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?filtervue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(e){_()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):filtervue_type_script_lang_js_ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}filtervue_type_template_id_e4308a6e_lang_pug_render._withStripped=!0;var v={props:{filters:Array},data:function data(){return{}},methods:filtervue_type_script_lang_js_objectSpread(filtervue_type_script_lang_js_objectSpread(filtervue_type_script_lang_js_objectSpread({},Object(d.b)("catalog",["fetchFilters","getFilterGroupId","getGroupId"])),Object(d.d)("catalog",["setFilterGroupId","setGroupId"])),{},{clickOnitem:function clickOnitem(t){this.setGroupId(t),this.$parent.loadProducts(),console.log("filter ",t)}}),computed:filtervue_type_script_lang_js_objectSpread({},Object(d.c)("catalog",["catalogFilters"])),created:function created(){this.fetchFilters()}},b=Object(f.a)(v,filtervue_type_template_id_e4308a6e_lang_pug_render,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"catalog__filter__tilte"},[e("h1",[this._v("Лекарства")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"checkbox"},[e("input",{attrs:{type:"radio",name:"filter"}}),e("div",{staticClass:"checkbox__mark"})])}],!1,null,null,null);b.options.__file="src/vue/catalog/components/filter.vue";var h=b.exports,pagervue_type_template_id_34e9d502_lang_pug_render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pagesNumber>1?r("div",{staticClass:"pager"},[r("div",{staticClass:"pager__pages"},[r("svg",[r("use",{attrs:{href:"icons/icons.svg#arrow-prev"}})]),t._l(t.pagesNumber,(function(e,i){return t.isFirst(e)||t.isActive(e)||t.isnNighbor(e)||t.isLast(e,t.pagesNumber)?r("div",{staticClass:"pager__page",class:{pager__page_active:i===t.offset},on:{click:function(e){return t.$emit("input",i)}}},[t._v(t._s(e)+" ")]):t._e()})),r("svg",[r("use",{attrs:{href:"icons/icons.svg#arrow-next"}})])],2)]):t._e()};pagervue_type_template_id_34e9d502_lang_pug_render._withStripped=!0;var y={props:{fetchNextPage:Function,pagesNumber:Number,offset:Number,limit:Number},data:function data(){return{isActiveClass:!1,itemNumber:[]}},computed:{},methods:{isFirst:function isFirst(t){return t<=2},isActive:function isActive(t){return t===this.offset+1},isnNighbor:function isnNighbor(t){return t===this.offset+2||t===this.offset},isLast:function isLast(t,e){return t>e-1}}},w=Object(f.a)(y,pagervue_type_template_id_34e9d502_lang_pug_render,[],!1,null,null,null);w.options.__file="src/vue/catalog/components/pager.vue";var j=w.exports,mobile_itemsvue_type_template_id_69565634_lang_pug_render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mobile-catalog"},[r("div",{staticClass:"mobile-catalog__tilte title"},[t._v("Каталог")]),r("div",{staticClass:"mobile-catalog__wrapper"},t._l(t.mobileItems,(function(e){return r("a",{key:e.id,staticClass:"mobile-catalog-item",attrs:{href:"https://ffarm.1mcg.ru/assets/product-item.html"}},[r("div",{staticClass:"mobile-catalog-item__wrapper"},[r("div",{staticClass:"mobile-catalog-img",style:{backgroundImage:"url("+e.picture+")"}})]),r("div",{staticClass:"mobile-catalog-title"},[t._v(t._s(e.title))])])})),0)])};mobile_itemsvue_type_template_id_69565634_lang_pug_render._withStripped=!0;var O={data:function data(){return{mobileItems:[{id:1,title:"Лекарства",picture:img1},{id:2,title:"БАДы",picture:img2},{id:3,title:"Оптика",picture:img3},{id:4,title:"Мед. техника",picture:img4},{id:5,title:"Гигиена",picture:img5},{id:6,title:"Ортопедия",picture:img6},{id:7,title:"Косметика",picture:img7},{id:8,title:"Здоровая еда",picture:img8},{id:9,title:"Мама и малыш",picture:img9},{id:10,title:"Акции",picture:img10}]}},mounted:function mounted(){}},C=Object(f.a)(O,mobile_itemsvue_type_template_id_69565634_lang_pug_render,[],!1,null,null,null);function layoutvue_type_script_lang_js_ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function layoutvue_type_script_lang_js_objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?layoutvue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(e){_()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):layoutvue_type_script_lang_js_ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}C.options.__file="src/vue/catalog/components/mobile-items.vue";var k={data:function data(){return{resizeConut:"",isvisible:!0,catalogBaseView:!0,pagesNumber:[],items:[],offset:0,limit:30,filterGroupId:""}},components:{Product:g,"catalog-filter":h,"catalog-pager":j,MobileItems:C.exports},watch:{offset:function offset(){this.fetchItems()},resizeConut:function resizeConut(){this.resizeConut<576&&(this.catalogBaseView=!0)}},methods:layoutvue_type_script_lang_js_objectSpread(layoutvue_type_script_lang_js_objectSpread(layoutvue_type_script_lang_js_objectSpread({},Object(d.c)("catalog",["getFilterGroupId","getGroupId"])),Object(d.d)("catalog",["setFilterGroupId","setGroupId"])),{},{handleResize:function handleResize(){this.resizeConut=document.body.clientWidth},fetchItems:function fetchItems(){var t=this;this.items=[],fetch("".concat(api.catalog,"?offset=").concat(this.offset*this.limit,"&limit=").concat(this.limit)).then((function(t){return t.json()})).then((function(e){var r=e._embedded.items,i=Math.floor(e.total/e.limit);t.pagesNumber=i,r.forEach((function(e){e.count=1,t.items.push(e)}))}))},fetchProductsFromGroups:function fetchProductsFromGroups(){var t=this,e=this.getGroupId(),r=document.location.origin,i="".concat(r,"/api/catalog/groups/").concat(e,"/subproducts");this.items=[],fetch(i).then((function(t){return t.json()})).then((function(e){var r=e._embedded.items,i=Math.floor(e.total/e.limit);t.pagesNumber=i,r.forEach((function(e){e.count=1,t.items.push(e)}))}))},loadProducts:function loadProducts(){var t=this;if(localStorage.getItem("filterId"))this.fetchProductsFromGroups();else if(localStorage.getItem("items")){this.items=[];var e=localStorage.getItem("items"),r=JSON.parse(e),i=r._embedded.items,c=Math.floor(r.total/r.limit);this.pagesNumber=c,i.forEach((function(e){e.count=1,t.items.push(e)})),localStorage.removeItem("items")}else this.fetchItems();window.addEventListener("resize",this.handleResize)}}),created:function created(){this.setFilterGroupId(localStorage.getItem("filterId")),this.setGroupId(localStorage.getItem("filterId")),this.loadProducts()},computed:{},destroyed:function destroyed(){window.removeEventListener("resize",this.handleResize)}},I=Object(f.a)(k,layoutvue_type_template_id_51357632_lang_pug_render,[],!1,null,null,null);I.options.__file="src/vue/catalog/layout/layout.vue";var S=I.exports,P={namespaced:!0,state:{catalogGroups:[],catalogItems:[],filters:[],groupId:"",filterGroupId:""},getters:{catalogGroups:function catalogGroups(t){return t.catalogGroups},catalogFilters:function catalogFilters(t){return t.filters},getFilterGroupId:function getFilterGroupId(t){return t.filterGroupId},getGroupId:function getGroupId(t){return t.groupId}},actions:{init:function init(t,e){t.dispatch;var r=t.commit;r("setFilterGroupId",e),r("setGroupId",e)},fetchCatalogGroups:function fetchCatalogGroups(t){var e=t.commit,r=api.catalogGroups;fetch(r).then((function(t){return t.json()})).then((function(t){var r=t._embedded.items;e("setCatalogGroups",r)}))},fetchFilters:function fetchFilters(t){var e=t.commit,r=(t.getters,localStorage.getItem("filterId"),document.location.origin),i="".concat(r,"/api/catalog/groups");fetch(i).then((function(t){return t.json()})).then((function(t){var r=t._embedded.items;console.log(r),e("setCatalogFilters",r)}))}},mutations:{setCatalogGroups:function setCatalogGroups(t,e){t.catalogGroups=e},setCatalogFilters:function setCatalogFilters(t,e){t.filters=e},setFilterGroupId:function setFilterGroupId(t,e){t.filterGroupId=e},setGroupId:function setGroupId(t,e){t.groupId=e}}};l.a.use(d.a);var G=new d.a.Store({modules:{catalog:P},state:{},actions:{},mutations:{},getters:{}}),L=function Catalog(t){n()(this,Catalog),l.a.filter("fix-namber",(function(t){return Math.round(100*t)/100}));var e=document.querySelector("#catalog");localStorage.setItem("filterId",e.getAttribute("data-filter-link")),new l.a({el:t,render:function render(t){return t(S)},store:G,created:function created(){var t=this;return o()(c.a.mark((function _callee(){return c.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:t.$store.dispatch("catalog/init",e.getAttribute("data-filter-link"));case 1:case"end":return r.stop()}}),_callee)})))()}})},q=r(3);document.addEventListener("DOMContentLoaded",(function(){Object(q.a)()})),document.addEventListener("DOMContentLoaded",(function(){new L("#catalog")}))},3:function(t,e,r){"use strict";function headerSearch(){var t=document.querySelector(".menu__btn"),e=document.querySelector(".header__popup"),r=document.querySelector("body");t.onclick=function(){t.classList.toggle("menu__btn_active"),e.classList.toggle("header__popup_show"),r.classList.toggle("lock__scroll")};var i=document.querySelector(".search__btn"),c=document.querySelector(".cancel__btn"),a=document.querySelector(".search__box"),o=document.querySelector(".input__search"),s=document.querySelector(".phone"),n=document.querySelector(".profile"),l=document.querySelector(".nav");i.onclick=function(){a.classList.add("active"),o.classList.add("input__active"),i.classList.add("search__btn_active"),c.classList.add("cancel__btn_active"),s.classList.add("phone__hidden"),n.classList.add("profile__hidden"),l.classList.add("nav__hidden")},c.onclick=function(){a.classList.remove("active"),o.classList.remove("input__active"),i.classList.remove("search__btn_active"),c.classList.remove("cancel__btn_active"),s.classList.remove("phone__hidden"),n.classList.remove("profile__hidden"),l.classList.remove("nav__hidden")};var u=document.querySelector(".search__btn_mobile"),_=document.querySelector(".cancel__btn_mobile"),d=document.querySelector(".search__box_mobile"),p=document.querySelector(".input__search_mobile"),f=document.querySelector(".block__first"),m=document.querySelector(".mobile__block"),g=document.querySelector(".block__second");u.onclick=function(){d.classList.add("active"),p.classList.add("input__active"),u.classList.add("search__btn_active"),_.classList.add("cancel__btn_active"),f.classList.add("block__first_hidden"),m.classList.add("mobile__block_active"),g.classList.add("block__second_active")},_.onclick=function(){d.classList.remove("active"),p.classList.remove("input__active"),u.classList.remove("search__btn_active"),_.classList.remove("cancel__btn_active"),f.classList.remove("block__first_hidden"),m.classList.remove("mobile__block_active"),g.classList.remove("block__second_active")}}r.d(e,"a",(function(){return headerSearch}))}});